<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <title>Ace example | Step 4</title>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>
    <main class="demo">
      <div class="demo__item">
        <div class="demo__editor js-editor"></div>
      </div>
      <div class="demo__item demo__preview">
        <iframe class="demo__preview-frame js-frame"></iframe>
        <button class="button js-copy-content">Скопировать в iframe</button>
      </div>
    </main>

    <script src="lib/ace-src/ace.js"></script>
    <script>
      const editorEl = document.querySelector('.js-editor');
      const editor = ace.edit(editorEl);

      editor.session.setMode('ace/mode/javascript'); // Режим редактора — javascript

      const frame = document.querySelector('.js-frame');
      const doc = frame.contentDocument;

      doc.body.innerHTML = '<span class="some-span">Какой-то текст</span>'

      const copyBtn = document.querySelector('.js-copy-content');
      copyBtn.addEventListener('click', () => {
        const script = doc.createElement('script');
        script.innerHTML = editor.getValue();
        doc.body.appendChild(script);
      });
    </script>
  </body>
</html>